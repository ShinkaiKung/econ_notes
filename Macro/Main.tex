\documentclass[11pt]{amsart}

% --- Packages ---
\usepackage[a4paper,margin=1in]{geometry} % Better for screen reading
\usepackage{amsmath, amssymb, amsthm}    % AMS math packages
\usepackage{hyperref}                    % Clickable references
\usepackage{lipsum}                      % For dummy text (remove later)
\usepackage{tikz}
\usepackage{caption}
\usetikzlibrary{calc,patterns}
\usepackage{setspace}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{tcolorbox}
\usepackage{multirow}
\usepackage{booktabs}       % For professional table rules (\toprule, \midrule, \bottomrule)
\usepackage{array}          % For advanced table column specifications


\tcbuselibrary{theorems, breakable, skins, listings}


% --- Theorem Environments ---
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% Unnumbered versions
\newtheorem*{theorem*}{Theorem}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{definition*}{Definition}
\newtheorem*{example*}{Example}
\newtheorem*{remark*}{Remark}
\newtheorem*{claim}{Claim}


% --- Lecture counter ---
\newcounter{lecture}
\renewcommand{\thelecture}{\arabic{lecture}}
\makeatletter
\renewcommand{\theHsection}{\thelecture.\arabic{section}}
\renewcommand{\theHsubsection}{\thelecture.\arabic{section}.\arabic{subsection}}
\renewcommand{\theHsubsubsection}{\thelecture.\arabic{section}.\arabic{subsection}.\arabic{subsubsection}}
\makeatother
% Make sections depend on lecture
\renewcommand{\thesection}{\thelecture.\arabic{section}}
\newcommand{\lecture}[1]{%
  \refstepcounter{lecture}%
  \bigskip\hrule\bigskip
  {\Large\bfseries Lecture \thelecture: #1 \par}\medskip
  \addcontentsline{toc}{chapter}{Lecture \thelecture: #1}%
  \setcounter{section}{0} % reset sections for each lecture
}

\theoremstyle{remark}
\newtheorem{remarkinner}{Remark}      % 创建带编号的内部 remark
\newtheorem*{remarkinner*}{Remark}     % 创建不带编号的内部 remark*

% 3. 定义一个新的 tcolorbox 样式用于包装
% 这个盒子是可跨页的 (breakable)
\newtcolorbox{remarkbox}{
    enhanced,            % 启用增强功能
    breakable,           % 核心功能: 允许盒子跨页
    colback=white,       % 内部背景颜色 (白色)
    colframe=black,      % 边框颜色 (黑色)
    boxrule=0.5pt,       % 边框线宽
    arc=2mm,             % 圆角半径
    left=4mm,            % 内部左边距
    right=4mm,           % 内部右边距
    top=3mm,             % 内部上边距
    bottom=3mm,          % 内部下边距
    pad at break=2mm,    % 跨页断开处的间距
    % 在盒子断开处上方添加一条线
    % underlay unbroken and first={%
    %   \draw[black,line width=0.5pt] (frame.north west) -- (frame.north east);
    % },
    % % 在盒子断开处下方添加一条线
    % underlay unbroken and last={%
    %   \draw[black,line width=0.5pt] (frame.south west) -- (frame.south east);
    % }
}

% 4. 使用新定义的盒子重新定义 remark 和 remark* 环境
% 将原始的 "remarkinner" 环境包裹在 "remarkbox" 中
\renewenvironment{remark}
  {\begin{remarkbox}\begin{remarkinner}}
  {\end{remarkinner}\end{remarkbox}}

\renewenvironment{remark*}
  {\begin{remarkbox}\begin{remarkinner*}}
  {\end{remarkinner*}\end{remarkbox}}



\theoremstyle{example}
\newtheorem{exampleinner}{Example}      % 创建带编号的内部 example
\newtheorem*{exampleinner*}{Example}     % 创建不带编号的内部 example*

% 3. 定义一个新的 tcolorbox 样式用于包装
% 这个盒子是可跨页的 (breakable)
\newtcolorbox{examplebox}{
    enhanced,            % 启用增强功能
    breakable,           % 核心功能: 允许盒子跨页
    colback=white,       % 内部背景颜色 (白色)
    colframe=black,      % 边框颜色 (黑色)
    boxrule=0.5pt,       % 边框线宽
    arc=2mm,             % 圆角半径
    left=4mm,            % 内部左边距
    right=4mm,           % 内部右边距
    top=3mm,             % 内部上边距
    bottom=3mm,          % 内部下边距
    pad at break=2mm,    % 跨页断开处的间距
    % 在盒子断开处上方添加一条线
    % underlay unbroken and first={%
    %   \draw[black,line width=0.5pt] (frame.north west) -- (frame.north east);
    % },
    % % 在盒子断开处下方添加一条线
    % underlay unbroken and last={%
    %   \draw[black,line width=0.5pt] (frame.south west) -- (frame.south east);
    % }
}

% 4. 使用新定义的盒子重新定义 example 和 example* 环境
% 将原始的 "exampleinner" 环境包裹在 "examplebox" 中
\renewenvironment{example}
  {\begin{examplebox}\begin{exampleinner}}
  {\end{exampleinner}\end{examplebox}}

\renewenvironment{example*}
  {\begin{examplebox}\begin{exampleinner*}}
  {\end{exampleinner*}\end{examplebox}}


% --- Metadata ---
\title{Macroeconomics}
\author{Zian Gong}
\date{\today}

\begin{document}

\maketitle
\tableofcontents

\setlength{\parskip}{0.8em}   % 段落之间距离
\setlength{\parindent}{2em}   % 段首缩进
% % 1.5 倍行距
\onehalfspacing

% % 双倍行距
% \doublespacing

% 或者手动指定，比如 1.2 倍
% \setstretch{1.2}



\newpage
\lecture{Dynamic Optimization}
\input{lectures/0.tex}
\newpage
\lecture{Introduction of Neo-Classical Growth Model}
\input{lectures/1.tex}
\newpage
\lecture{The Solow Model}
\input{lectures/2.tex}
\newpage
\lecture{The Ramsey Model}
\input{lectures/3.tex}



% You can add more sections here
% \section{Advanced Topic}
% \input{lectures/2.tex}

\end{document}
